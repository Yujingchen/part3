{"version":3,"sources":["Filter.js","PersonForm.js","Persons.js","Notification.js","services/contacts.js","App.js","index.js"],"names":["Filter","persons","query","handleSearchTextChange","results","filter","person","name","toLowerCase","indexOf","resultsCollection","map","result","key","number","value","onChange","PersonForm","hanldeSubmit","newName","newNumber","handleNameTextChange","handleNumberTextChange","onSubmit","type","Person","handleDeleteContact","numbersCollection","id","onClick","window","confirm","handleDeleteBtnClick","Notification","message","successMessage","style","color","backgroundColor","fontSize","className","border","baseUrl","axios","get","then","response","data","newObject","post","delete","put","App","useState","setPersons","setNewName","setNewNumber","setQuery","errorMessage","setErrorMessage","setSuccessMessage","useEffect","contactService","initialData","event","target","preventDefault","length","newContact","find","p","copy","returnedData","console","log","concat","catch","error","setTimeout","e","Persons","handleDeleteContactOf","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.49082b63.chunk.js","sourcesContent":["import React from 'react'\n\n\nconst Filter = ({ persons, query, handleSearchTextChange }) => {\n    const results = query !== \"\" ? persons.filter((person) => person.name.toLowerCase().indexOf(query.toLowerCase()) !== -1) : null\n    const resultsCollection = results ?\n        results.map(result => {\n            return (\n                <p key={result.name}>{result.name} {result.number}</p>\n            )\n        })\n        : null\n    return (\n        <div>\n            filter shown with: <input value={query} onChange={handleSearchTextChange} />\n            {resultsCollection}\n        </div>\n    )\n}\n\nexport default Filter","import React from 'react'\n\nconst PersonForm = ({ hanldeSubmit, newName, newNumber, handleNameTextChange, handleNumberTextChange }) => {\n    return (\n        <>\n            <h2>add a new</h2>\n            <form onSubmit={hanldeSubmit}>\n                <div>\n                    name: <input value={newName} onChange={handleNameTextChange} />\n                </div>\n                <div>\n                    number: <input value={newNumber} onChange={handleNumberTextChange} />\n                </div>\n                <div>\n                    <button type=\"submit\">add</button>\n                </div>\n            </form>\n        </>\n    )\n}\n\nexport default PersonForm","import React from 'react'\n\nconst Person = ({ persons, handleDeleteContact }) => {\n    const handleDeleteBtnClick = (person) => {\n        if (window.confirm(`Delete ${person.name}`)) {\n            handleDeleteContact(person.id)\n        }\n    }\n    const numbersCollection = (\n        persons.map(person => {\n            return (\n                <div key={person.id}>\n                    <span >{person.name} {person.number}</span>\n                    <span><button onClick={() => handleDeleteBtnClick(person)}>delete</button></span>\n                </div >\n            )\n        })\n    )\n    return (\n        <>\n            <h2>Numbers</h2>\n            {numbersCollection}\n        </>\n    )\n}\n\nexport default Person","import React from \"react\"\nconst Notification = ({ message, successMessage }) => {\n\n    if (message) {\n        return (\n            <div style={{ color: \"red\", backgroundColor: \"grey\", fontSize: \"20px\" }} className=\"error\">\n                {message}\n            </div>\n        )\n    }\n    else if (successMessage) {\n        return (\n            <div style={{ color: \"green\", backgroundColor: \"grey\", fontSize: \"20px\", border: \"3px solid green\" }} className=\"success\" >\n                {successMessage}\n            </div >\n        )\n    }\n    return null\n}\nexport default Notification","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = newObject => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n\nconst deleteContact = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n}\n\nconst putContact = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request\n}\n\nexport default { getAll, create, deleteContact, putContact }","import React, { useState, useEffect } from 'react'\nimport Filter from \"./Filter\"\nimport PersonForm from \"./PersonForm\"\nimport Persons from \"./Persons\"\nimport Notification from \"./Notification\"\nimport contactService from \"./services/contacts\"\nconst App = () => {\n    const [persons, setPersons] = useState([])\n    const [newName, setNewName] = useState('')\n    const [newNumber, setNewNumber] = useState('')\n    const [query, setQuery] = useState('')\n    const [errorMessage, setErrorMessage] = useState('')\n    const [successMessage, setSuccessMessage] = useState('')\n    useEffect(() => {\n        contactService.getAll().then(initialData => {\n            setPersons(initialData)\n        })\n    }, [])\n    const handleNameTextChange = (event) => {\n        setNewName(event.target.value)\n    }\n    const handleNumberTextChange = (event) => {\n        setNewNumber(event.target.value)\n    }\n    const handleSearchTextChange = (event) => {\n        setQuery(event.target.value)\n    }\n    const hanldeSubmit = (event) => {\n        event.preventDefault()\n        if (persons.filter(person => person.name === newName).length > 0) {\n            if (window.confirm(`${newName} is already add to phonebook, replace the old number with a new one?`)) {\n                const newContact = {\n                    name: newName,\n                    number: newNumber\n                }\n                const id = persons.find(p => p.name === newName).id\n                const copy = persons.filter(p => p.id !== id)\n                contactService.putContact(id, newContact)\n                    .then((returnedData) => {\n                        console.log(\"axios then\")\n                        setPersons(copy.concat(returnedData))\n                    }).\n                    catch(error => {\n                        console.log(\"errorMessage\")\n                        console.log(error)\n                        setErrorMessage(`Something wrong happen when updating number for ${newName}`, () => {\n                            console.log(errorMessage)\n                        })\n                        setTimeout(() => {\n                            setErrorMessage(null)\n                        }, 5000)\n                    })\n            }\n        }\n        else {\n            const newContact = {\n                name: newName,\n                number: newNumber\n            }\n            contactService.create(newContact).then((returnedData) => {\n                setPersons(persons.concat(returnedData))\n            }).then(e => {\n                setSuccessMessage(`Added ${newName}`)\n                console.log(successMessage)\n                setTimeout(() => {\n                    setSuccessMessage(null)\n                }, 5000)\n            }).catch(error=>{\n                console.log(\"errorMessage\")\n                console.log(error.message);\n                setErrorMessage('Name should have at least 3 characters. Number should have at least 8 digits', () => {\n                    console.log(errorMessage)\n                })\n                setTimeout(() => {\n                    setErrorMessage(null)\n                }, 5000)\n            })\n        }\n        setNewName(\"\")\n        setNewNumber(\"\")\n    }\n    const handleDeleteContactOf = (id) => {\n        contactService.deleteContact(id).then(() => {\n            setPersons(persons.filter(person => person.id !== id))\n        }).then(e => {\n            setSuccessMessage(`Delete contact successfully`)\n            console.log(successMessage)\n            setTimeout(() => {\n                setSuccessMessage(null)\n            }, 5000)\n        }).catch(e => {\n            setErrorMessage(`Something wrong happen when deleting a contact`)\n            setTimeout(() => {\n                setErrorMessage(null)\n            }, 5000)\n        })\n    }\n    return (\n        <div>\n            <h2>Phonebook</h2>\n            <Notification message={errorMessage} successMessage={successMessage} />\n            <Filter persons={persons} query={query} handleSearchTextChange={handleSearchTextChange}></Filter>\n            <PersonForm hanldeSubmit={hanldeSubmit} handleNameTextChange={handleNameTextChange} handleNumberTextChange={handleNumberTextChange} newName={newName} newNumber={newNumber}></PersonForm>\n            <Persons persons={persons} handleDeleteContact={(id) => handleDeleteContactOf(id)} ></Persons>\n        </div>\n    )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport \"./index.css\"\nimport App from './App';\n\nReactDOM.render(\n  // <React.StrictMode>\n  <App />,\n  // </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}